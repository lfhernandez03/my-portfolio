---
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

const projects = await getCollection("projects");
---

<div class="max-w-screen-xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-8 px-4 z-50">
  {projects.map((project: CollectionEntry<'projects'>) => (
    <div class="max-w-xs sm:max-w-sm w-full lg:w-[301px] md:w-[301px] h-auto border rounded-2xl flex flex-col justify-center items-center p-6">
      <img
        class="w-auto h-32 object-cover rounded-2xl"
        src={project.data.image}
        alt={project.data.title}
      />
      <h2 class="text-center mt-4">
        <span class="text-2xl font-bold">{project.data.title}</span>
        <p class="text-sm mt-2">{project.data.description}</p>
      </h2>
      <div class="mt-4">
        <ul class="flex flex-wrap justify-center space-x-2">
          {project.data.tags.map((tag: string) => (
            <li class=" px-3 py-1 text-sm font-semibold">{tag}</li>
          ))}
        </ul>
      </div>
      <div class="mt-4 flex space-x-4 w-full justify-end">
        <a href={project.data.codelink} target="_blank" class="">Ver Repositorio</a>
      </div>
    </div>
  ))}
</div>